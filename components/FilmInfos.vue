<template>
  <p
    class="inline text-sm text-white/90 italic bg-black/50 px-3 py-1 rounded-full inline-block backdrop-blur-sm border border-white/10 lg:border-white/30"
  >
    {{ formattedDate }} Â· {{ runtime }} min Â·
    <span class="inline-flex items-center gap-1">
      {{ languageFlag }} {{ languageName }}
    </span>
  </p>
</template>

<script setup lang="ts">
const props = defineProps<{
  releaseDate: string;
  runtime: number;
  language: string;
}>();

const formattedDate = computed(() => {
  const date = new Date(props.releaseDate);
  return date.toLocaleDateString("fr-FR", {
    day: "numeric",
    month: "long",
    year: "numeric",
  });
});

const languageFlag = computed(() => {
  const map: Record<string, string> = {
    fr: "ðŸ‡«ðŸ‡·",
    en: "ðŸ‡¬ðŸ‡§",
    ja: "ðŸ‡¯ðŸ‡µ",
    es: "ðŸ‡ªðŸ‡¸",
    de: "ðŸ‡©ðŸ‡ª",
    it: "ðŸ‡®ðŸ‡¹",
    zh: "ðŸ‡¨ðŸ‡³",
    ko: "ðŸ‡°ðŸ‡·",
    ru: "ðŸ‡·ðŸ‡º",
    ar: "ðŸ‡¸ðŸ‡¦",
    hi: "ðŸ‡®ðŸ‡³",
  };
  return map[props.language] || "ðŸŽ¬";
});

const languageName = computed(() => props.language.toUpperCase());
</script>
